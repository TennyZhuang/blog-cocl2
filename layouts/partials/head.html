
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  <!-- Title -->
  <title>{{ if not .IsHome }}{{ .Title }} - {{ end }}{{ site.Title }}</title>

  <!-- Meta -->
  <meta name="theme-color" />

  <!-- HugoMods SEO Modules -->
  {{ partial "seo/modules/base/index" . }}
  {{ partial "seo/modules/open-graph/index" . }}
  {{ partial "seo/modules/twitter-cards/index" . }}
  {{ partial "seo/modules/schema/index" . }}
  {{ partial "seo/modules/favicons/index" . }}
  {{ partial "seo/modules/alternatives/index" . }}
  {{ partial "seo/modules/translations/index" . }}
  {{ partial "seo/modules/json-ld/index" . }}

  <!-- CSS & JS -->
  {{ $main := resources.Get "main.css" }}
  <!---->
  {{ $custom := resources.Get "custom.css" }}
  <!---->
  {{ $css := slice $main $custom | resources.Concat "main.css" | minify }}
  <link rel="preload stylesheet" as="style" href="{{ $css.Permalink }}" />

  <!-- Dark Icon -->
  {{ $dark_icon := "theme.png" }}
  <!---->
  {{ if site.Params.monoDarkIcon }}{{ $dark_icon = "theme.svg" }}{{ end }}
  <!---->
  <link rel="preload" as="image" href="{{ $dark_icon | absURL }}" />

  <!-- Avatar -->
  {{ $avatar_url := $.Scratch.Get "avatar_url" }}
  <!---->
  {{ if $avatar_url }}
  <link rel="preload" as="image" href="{{ $avatar_url }}" />
  {{ end }}
  <!---->

  <!-- Social List -->
  {{ range $.Scratch.Get "social_list" }}
  <link rel="preload" as="image" href="{{ printf `%s.svg` . | absURL }}" />
  {{ end }}
  <!---->

  <!-- Highlight JS -->
  {{ if and .IsPage (not site.Params.disableHLJS) }}
  <script
    defer
    src="{{ `highlight.min.js` | absURL }}"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  {{ end }}

  <!-- Math -->
  {{ if or .Params.math site.Params.math }}
  <!---->
  {{ partial "math.html" . }}
  <!---->
  {{ end }}
  <!---->

  <!-- Generator -->
  {{ hugo.Generator }}

  {{ partial "plausible-analytics/assets/js" . }}
</head>
